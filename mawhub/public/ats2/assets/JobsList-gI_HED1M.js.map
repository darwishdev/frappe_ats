{"version":3,"file":"JobsList-gI_HED1M.js","sources":["../../../../ats2/node_modules/lucide-vue-next/dist/esm/icons/banknote.js","../../../../ats2/node_modules/lucide-vue-next/dist/esm/icons/briefcase.js","../../../../ats2/node_modules/lucide-vue-next/dist/esm/icons/file-text.js","../../../../ats2/node_modules/lucide-vue-next/dist/esm/icons/map-pin.js","../../../../ats2/src/components/jobs/JobDescriptionDialog.vue","../../../../ats2/src/pages/jobs/JobsList.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Banknote = createLucideIcon(\"banknote\", [\n  [\"rect\", { width: \"20\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", key: \"9lu3g6\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M6 12h.01M18 12h.01\", key: \"113zkx\" }]\n]);\n\nexport { Banknote as default };\n//# sourceMappingURL=banknote.js.map\n","/**\n * @license lucide-vue-next v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Briefcase = createLucideIcon(\"briefcase\", [\n  [\"path\", { d: \"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\", key: \"jecpp\" }],\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"6\", rx: \"2\", key: \"i6l2r4\" }]\n]);\n\nexport { Briefcase as default };\n//# sourceMappingURL=briefcase.js.map\n","/**\n * @license lucide-vue-next v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"file-text\", [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-vue-next v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"map-pin\", [\n  [\n    \"path\",\n    {\n      d: \"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",\n      key: \"1r0f0z\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","<template>\n    <Dialog \n        v-model=\"isOpen\" \n        :options=\"{ \n            title: 'Parsed Job Description', \n            size: '5xl' \n        }\"\n    >\n        <template #body-content>\n            <div class=\"jdd-content\">\n                <div v-if=\"isLoading\" class=\"jdd-loading\">\n                    <div class=\"spinner\"></div>\n                    <p>Parsing job description...</p>\n                </div>\n\n                <div v-else-if=\"Object.keys(parsedData).length > 0\" class=\"jdd-sections\">\n                    <div v-for=\"(section, sectionKey) in parsedData\" :key=\"sectionKey\">\n                        <!-- Special handling for job_opening_details -->\n                         <!-- {{ section }} -->\n                        <div v-if=\"sectionKey === 'job_opening_details'\" class=\"jdd-details-card\">\n                            <h3 class=\"jdd-details-title\">Job Opening</h3>\n                            \n                            <div class=\"jdd-details-grid\">\n                                <!-- Job Title -->\n                                <div v-if=\"section.job_title\" class=\"jdd-detail-item jdd-detail-full\">\n                                    <div class=\"jdd-detail-icon\">\n                                        <Briefcase :size=\"24\" />\n                                    </div>\n                                    <div class=\"jdd-detail-content\">\n                                        <div class=\"jdd-detail-label\">Job Title</div>\n                                        <div class=\"jdd-detail-value\">{{ section.job_title }}</div>\n                                    </div>\n                                </div>\n\n                                <!-- Location -->\n                                <div class=\"jdd-detail-item\">\n                                    <div class=\"jdd-detail-icon\">\n                                        <MapPin :size=\"24\" />\n                                    </div>\n                                    <div class=\"jdd-detail-content\">\n                                        <div class=\"jdd-detail-label\">Location</div>\n                                        <div class=\"jdd-detail-value\">{{ section.location || 'N/A' }}</div>\n                                    </div>\n                                </div>\n\n                                <!-- Salary Range -->\n                                <div class=\"jdd-detail-item\">\n                                    <div class=\"jdd-detail-icon\">\n                                        <Banknote :size=\"24\" />\n                                    </div>\n                                    <div class=\"jdd-detail-content\">\n                                        <div class=\"jdd-detail-label\">Salary Range</div>\n                                        <div class=\"jdd-detail-value\">\n                                            {{ formatSalaryRange(section.lower_range, section.upper_range, section.currency) || 'N/A' }}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- Description -->\n                                <div class=\"jdd-detail-item jdd-detail-full\">\n                                    <div class=\"jdd-detail-icon\">\n                                        <FileText :size=\"24\" />\n                                    </div>\n                                    <div class=\"jdd-detail-content\">\n                                        <div class=\"jdd-detail-label\">Description</div>\n                                        <div class=\"jdd-detail-value jdd-detail-description\">{{ section.description || 'N/A' }}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Regular section rendering for other keys -->\n                        <div v-else class=\"jdd-section\">\n                            <!-- Section Title -->\n                            <div class=\"jdd-section-header\">\n                                <h3 class=\"jdd-section-title\">{{ formatSectionTitle(sectionKey) }}</h3>\n                            </div>\n\n                            <!-- Section Description -->\n                            <div v-if=\"section.description\" class=\"jdd-section-description\">\n                                {{ section.description }}\n                            </div>\n\n                            <!-- Bullet Points -->\n                            <div v-if=\"section.bullet_points && section.bullet_points.length > 0\" class=\"jdd-bullet-points\">\n                                <ul>\n                                    <li v-for=\"(point, idx) in section.bullet_points\" :key=\"idx\">\n                                        {{ point }}\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div v-else class=\"jdd-empty\">\n                    <p>No data parsed yet</p>\n                </div>\n            </div>\n        </template>\n\n        <template #actions>\n            <div class=\"w-full flex justify-end\">\n                <Button \n                    variant=\"solid\" \n                    @click=\"createJob\" \n                    :disabled=\"isLoading || Object.keys(parsedData).length === 0\"\n                >\n                    Create Job\n                </Button>\n            </div>\n        </template>\n    </Dialog>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue';\nimport { Dialog, Button } from 'frappe-ui';\nimport { Briefcase, MapPin, Banknote, FileText } from 'lucide-vue-next';\n\nconst props = defineProps({\n    modelValue: {\n        type: Boolean,\n        default: false\n    },\n    parsedData: {\n        type: Object,\n        default: () => ({})\n    },\n    isLoading: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst emit = defineEmits(['update:modelValue', 'create']);\n\nconst isOpen = ref(props.modelValue);\n\nwatch(() => props.modelValue, (newVal) => {\n    isOpen.value = newVal;\n});\n\nwatch(isOpen, (newVal) => {\n    emit('update:modelValue', newVal);\n});\n\nconst close = () => {\n    isOpen.value = false;\n};\n\nconst createJob = () => {\n    emit('create', props.parsedData);\n    close();\n};\n\nconst formatSectionTitle = (key) => {\n    // Convert camelCase or snake_case to Title Case\n    return key\n        .replace(/([A-Z])/g, ' $1') // Add space before capitals\n        .replace(/_/g, ' ') // Replace underscores with spaces\n        .trim()\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n        .join(' ');\n};\n\nconst formatSalaryRange = (lower, upper, currency = 'SAR') => {\n    const formatNumber = (num) => {\n        if (!num) return '';\n        return new Intl.NumberFormat('en-US').format(num);\n    };\n\n    if (lower && upper) {\n        return `${formatNumber(lower)} - ${formatNumber(upper)} ${currency}`;\n    } else if (lower) {\n        return `From ${formatNumber(lower)} ${currency}`;\n    } else if (upper) {\n        return `Up to ${formatNumber(upper)} ${currency}`;\n    }\n    return 'Not specified';\n};\n</script>\n\n<style scoped>\n.jdd-content {\n    max-height: 70vh;\n    overflow-y: auto;\n    padding: 8px;\n}\n\n.jdd-loading {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    min-height: 300px;\n    gap: 16px;\n}\n\n.spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #e5e7eb;\n    border-top-color: #111827;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n.jdd-loading p {\n    color: #6b7280;\n    font-size: 14px;\n}\n\n.jdd-sections {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n}\n\n/* Special Job Details Card */\n.jdd-details-card {\n    position: relative;\n    background: #fdfefe;\n    border: 1px solid #e2e8f0;\n    border-radius: 14px;\n    padding: 22px;\n    color: #0f172a;\n    box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08);\n    overflow: hidden;\n}\n\n.jdd-details-card::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(120deg, rgba(59, 130, 246, 0.12), #7700bc0b);\n    opacity: 0.7;\n    pointer-events: none;\n}\n\n.jdd-details-title {\n    position: relative;\n    font-size: 18px;\n    margin: 0 0 16px 0;\n    color: #0f172a;\n    display: inline-flex;\n    align-items: center;\n    gap: 10px;\n    padding: 6px 12px;\n    border-radius: 10px;\n    background: rgba(255, 255, 255, 0.8);\n    box-shadow: 0 6px 12px rgba(15, 23, 42, 0.05);\n}\n\n.jdd-details-grid {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 16px;\n}\n\n.jdd-detail-item {\n    position: relative;\n    background: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e8f0;\n    border-radius: 12px;\n    padding: 14px 16px;\n    display: flex;\n    gap: 12px;\n    align-items: flex-start;\n    transition: box-shadow 0.2s ease, transform 0.2s ease, border-color 0.2s ease;\n    box-shadow: 0 4px 10px rgba(15, 23, 42, 0.04);\n}\n\n.jdd-detail-item:hover {\n    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);\n    transform: translateY(-2px);\n    border-color: #cbd5e1;\n}\n\n.jdd-detail-full {\n    grid-column: 1 / -1;\n}\n\n.jdd-detail-icon {\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 36px;\n    height: 36px;\n    border-radius: 10px;\n    background: linear-gradient(145deg, #e2e8f0, #f8fafc);\n    color: #0f172a;\n    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);\n}\n\n.jdd-detail-content {\n    flex: 1;\n    min-width: 0;\n}\n\n.jdd-detail-label {\n    font-size: 12px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    color: #52627a;\n    margin-bottom: 6px;\n}\n\n.jdd-detail-value {\n    font-size: 15.5px;\n    color: #0f172a;\n    word-break: break-word;\n}\n\n.jdd-detail-highlight {\n    font-size: 18px;\n    font-weight: 800;\n}\n\n.jdd-detail-description {\n    font-size: 14px;\n    font-weight: 400;\n    line-height: 1.6;\n    color: #1e293b;\n    white-space: pre-wrap;\n}\n\n/* Regular Section Styles */\n.jdd-section {\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 16px;\n    background: #f9fafb;\n}\n\n.jdd-section-header {\n    margin-bottom: 12px;\n}\n\n.jdd-section-title {\n    font-size: 16px;\n    font-weight: 700;\n    color: #111827;\n    margin: 0;\n}\n\n.jdd-section-description {\n    color: #374151;\n    font-size: 14px;\n    line-height: 1.6;\n    margin-bottom: 12px;\n    white-space: pre-wrap;\n    word-break: break-word;\n}\n\n.jdd-bullet-points {\n    margin-top: 12px;\n}\n\n.jdd-bullet-points ul {\n    margin: 0;\n    padding-left: 20px;\n    list-style-type: disc;\n}\n\n.jdd-bullet-points li {\n    color: #374151;\n    font-size: 14px;\n    line-height: 1.6;\n    margin-bottom: 8px;\n}\n\n.jdd-bullet-points li:last-child {\n    margin-bottom: 0;\n}\n\n.jdd-empty {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 200px;\n    color: #6b7280;\n}\n</style>\n","<template>\n    <div class=\"jc-page\">\n        <!-- Toolbar with search and filters -->\n\n        <!-- <div class=\"flex justify-end w-full my-4 px-1\">\n      <Button theme=\"gray\" variant=\"solid\" size=\"md\" class=\"w-48\" @click=\"createNewJob\">\n        + New Job\n      </Button>\n    </div> -->\n        <div class=\"jc-toolbar\">\n            <div class=\"jc-search\">\n                <TextInput\n                    v-model=\"filters.search\"\n                    type=\"text\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Start typing to search jobs...\"\n                    @input=\"debouncedApplyFilters\"\n                />\n            </div>\n\n            <div class=\"jc-filters\">\n                <Select\n                    class=\"w-48\"\n                    placeholder=\"Select Department\"\n                    v-model=\"filters.department\"\n                    :options=\"departmentOptions\"\n                    @change=\"applyFilters\"\n                />\n\n                <Select\n                    class=\"w-48\"\n                    placeholder=\"Select Location\"\n                    v-model=\"filters.location\"\n                    :options=\"locationOptions\"\n                    @change=\"applyFilters\"\n                />\n\n                <Select\n                    class=\"w-48\"\n                    placeholder=\"Select Group\"\n                    v-model=\"filters.group\"\n                    :options=\"groupOptions\"\n                    @change=\"applyFilters\"\n                />\n\n                <Checkbox\n                    size=\"sm\"\n                    v-model=\"filters.includeDrafts\"\n                    label=\"Include draft jobs\"\n                    @change=\"applyFilters\"\n                />\n                <!--\n      <Button theme=\"gray\" variant=\"solid\" size=\"md\" class=\"w-32\" @click=\"createNewJob\">\n        New Job\n      </Button> -->\n            </div>\n        </div>\n\n        <div class=\"flex justify-end gap-3 items-center w-full my-4\">\n            <Button\n                theme=\"gray\"\n                size=\"md\"\n                class=\"w-40\"\n                :disabled=\"jobsResource.loading\"\n                @click=\"reload\"\n            >\n                {{ jobsResource.loading ? \"Refreshing...\" : \"Refresh\" }}\n            </Button>\n            <Button theme=\"gray\" variant=\"solid\" size=\"md\" class=\"w-40\" @click=\"createNewJob\">\n                New Job\n            </Button>\n        </div>\n\n        <!-- Loading state -->\n        <div v-if=\"jobsResource.loading\" class=\"text-center py-8 text-gray-500\">\n            Loading jobs...\n        </div>\n\n        <!-- Error state -->\n        <div v-else-if=\"jobsResource.error\" class=\"text-center py-8 text-red-500\">\n            Error loading jobs: {{ jobsResource.error }}\n        </div>\n\n        <!-- Jobs list -->\n        <div v-else-if=\"filteredJobs.length > 0\" class=\"jc-list\">\n            <div v-for=\"job in filteredJobs\" :key=\"job.name\" class=\"jc-card\" :data-job=\"job.name\">\n                <!-- Card Header -->\n                <div class=\"jc-card-head\">\n                    <div>\n                        <div class=\"jc-title\" @click=\"openJob(job.name)\">\n                            {{ job.title }}\n                        </div>\n                        <div class=\"jc-subtitle\">\n                            {{ job.department }} Â· {{ job.work_mode }} Â· {{ job.location }}\n                        </div>\n                    </div>\n\n                    <div class=\"jc-actions\">\n                        <button class=\"btn btn-default btn-sm\" @click=\"copyJobLink(job)\">\n                            ðŸ“‹ Copy Link\n                        </button>\n                        <button class=\"btn btn-default btn-sm\" @click=\"findCandidates(job.name)\">\n                            Find Candidates\n                        </button>\n                    </div>\n                </div>\n\n                <!-- Pipeline stages -->\n                <div v-if=\"job.stages.length > 0\" class=\"jc-pipeline\">\n                    <div\n                        v-for=\"stage in job.stages.slice(0, 12)\"\n                        :key=\"`${job.name}-${stage.id}`\"\n                        class=\"jc-stage\"\n                        :title=\"stage.label\"\n                    >\n                        <div class=\"jc-stage-count\">{{ formatCount(stage.count) }}</div>\n                        <div class=\"jc-stage-label\">{{ stage.label }}</div>\n                    </div>\n                </div>\n\n                <!-- Card Footer -->\n                <div class=\"jc-card-foot\">\n                    <div v-if=\"!job.is_published\" class=\"jc-warn\">\n                        <span style=\"font-size: 16px\">âœ•</span>\n                        <span\n                            >This job is not published on your careers page or on any job\n                            boards</span\n                        >\n                    </div>\n                    <div v-else></div>\n\n                    <div>\n                        Candidates: {{ job.candidates_total }} total Â·\n                        {{ job.candidates_active }} active in pipeline Â· Last candidate on\n                        {{ formatDate(job.last_candidate_on) }}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Empty state -->\n        <div v-else class=\"jc-empty\">No jobs found.</div>\n\n        <!-- File input for job upload -->\n        <input\n            ref=\"jobFileInput\"\n            type=\"file\"\n            accept=\".pdf,.doc,.docx\"\n            style=\"display: none\"\n            @change=\"handleJobFileUpload\"\n        />\n\n        <!-- Job Description Dialog -->\n        <JobDescriptionDialog\n            v-model=\"showJobDialog\"\n            :parsed-data=\"parsedJobData\"\n            :is-loading=\"isParsing\"\n            @create=\"handleJobCreate\"\n        />\n    </div>\n</template>\n\n<script setup>\nimport { createResource, TextInput, Select, Checkbox, Button } from \"frappe-ui\";\nimport { ref, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useToast } from \"vue-toastification\";\nimport { JobDetailsAPI } from \"../../api/apiClient.js\";\nimport JobDescriptionDialog from \"../../components/jobs/JobDescriptionDialog.vue\";\n\nconst router = useRouter();\nconst toast = useToast();\n\nJobDetailsAPI.init(createResource);\n\n// State\nconst filters = ref({\n    search: \"\",\n    department: \"\",\n    location: \"\",\n    group: \"\",\n    includeDrafts: true,\n});\n\nconst allJobs = ref([]);\nconst filteredJobs = ref([]);\n\n// File upload and parsing state\nconst jobFileInput = ref(null);\nconst isUploading = ref(false);\nconst uploadProgress = ref(0);\nconst isParsing = ref(false);\nconst showJobDialog = ref(false);\nconst parsedJobData = ref(null);\n\n// Fetch jobs from API\nconst jobsResource = createResource({\n    url: \"mawhub.job_opening_list\",\n    auto: true,\n    onSuccess(data) {\n        allJobs.value = transformJobData(data || []);\n        applyFilters();\n    },\n});\n\n// Transform API response to UI format\nfunction transformJobData(rawJobs) {\n    return rawJobs.map((job) => {\n        // Get unique steps and aggregate candidate counts\n        const stepsMap = new Map();\n\n        if (job.steps && Array.isArray(job.steps)) {\n            job.steps.forEach((step) => {\n                const key = `${step.step_id}-${step.step_name}`;\n                if (!stepsMap.has(key)) {\n                    stepsMap.set(key, {\n                        id: step.step_id,\n                        label: step.step_name,\n                        count: 0,\n                    });\n                }\n                stepsMap.get(key).count += step.candidate_count || 0;\n            });\n        }\n\n        const stages = Array.from(stepsMap.values()).sort((a, b) => a.id - b.id);\n\n        // Calculate total candidates\n        const totalCandidates = parseInt(job.candidate_count) || 0;\n\n        // Determine publish status\n        const isPublished = job.publish === 1;\n        const isDraft = job.docstatus === 0;\n\n        return {\n            name: job.name,\n            title: job.designation || \"Untitled Position\",\n            department: job.department || \"Not Specified\",\n            location: job.location || \"Not Specified\",\n            work_mode: job.employment_type || \"Full-time\",\n            is_published: isPublished,\n            is_draft: isDraft,\n            route: job.route || \"\",\n            stages: stages,\n            candidates_total: totalCandidates,\n            candidates_active: totalCandidates,\n            last_candidate_on: job.posted_on,\n            group: job.department || null,\n        };\n    });\n}\n\n// Computed properties for filter options\nconst departments = computed(() => {\n    return [...new Set(allJobs.value.map((j) => j.department).filter(Boolean))].sort();\n});\n\nconst locations = computed(() => {\n    return [...new Set(allJobs.value.map((j) => j.location).filter(Boolean))].sort();\n});\n\nconst groups = computed(() => {\n    return [...new Set(allJobs.value.map((j) => j.group).filter(Boolean))].sort();\n});\n\n// Format options for Select components\nconst departmentOptions = computed(() => [\n    { label: \"All departments\", value: \"\" },\n    ...departments.value.map((dept) => ({ label: dept, value: dept })),\n]);\n\nconst locationOptions = computed(() => [\n    { label: \"All locations\", value: \"\" },\n    ...locations.value.map((loc) => ({ label: loc, value: loc })),\n]);\n\nconst groupOptions = computed(() => [\n    { label: \"No group applied\", value: \"\" },\n    ...groups.value.map((grp) => ({ label: grp, value: grp })),\n]);\n\n// Apply filters\nfunction applyFilters() {\n    const f = filters.value;\n\n    filteredJobs.value = allJobs.value.filter((j) => {\n        // Filter drafts\n        if (!f.includeDrafts && j.is_draft) return false;\n\n        // Filter by department\n        if (f.department && j.department !== f.department) return false;\n\n        // Filter by location\n        if (f.location && j.location !== f.location) return false;\n\n        // Filter by group\n        if (f.group && j.group !== f.group) return false;\n\n        // Filter by search query\n        if (f.search) {\n            const query = f.search.toLowerCase();\n            const searchText =\n                `${j.title} ${j.department} ${j.location} ${j.work_mode}`.toLowerCase();\n            if (!searchText.includes(query)) return false;\n        }\n\n        return true;\n    });\n}\n\n// Debounced filter for search input\nlet debounceTimeout = null;\nfunction debouncedApplyFilters() {\n    clearTimeout(debounceTimeout);\n    debounceTimeout = setTimeout(applyFilters, 200);\n}\n\n// Format count for display\nfunction formatCount(count) {\n    if (count >= 1000) {\n        return `${(count / 1000).toFixed(1)}k`;\n    }\n    return count.toString();\n}\n\n// Format date for display\nfunction formatDate(dateStr) {\n    if (!dateStr) return \"N/A\";\n    try {\n        const date = new Date(dateStr);\n        return date.toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\",\n        });\n    } catch {\n        return dateStr;\n    }\n}\n\n// Action handlers\nfunction openJob(jobName) {\n    // Navigate to job details page\n    router.push({ name: \"JobDetails\", params: { jobId: jobName } });\n}\n\nfunction copyJobLink(job) {\n    // const jobLink = `${window.location.origin}/jobs/mawhub/${jobName}`;\n    const jobLink = `http://localhost:8001/${job.route}`;\n    navigator.clipboard\n        .writeText(jobLink)\n        .then(() => {\n            toast.success(\"Job link copied to clipboard!\");\n        })\n        .catch(() => {\n            toast.error(\"Failed to copy link\");\n        });\n}\n\nfunction findCandidates(jobName) {\n    // Navigate to candidates list for this job\n    console.log(\"Finding candidates for:\", jobName);\n    // Example: router.push(`/candidates?job=${jobName}`);\n}\n\nfunction createNewJob() {\n    if (jobFileInput.value) {\n        jobFileInput.value.click();\n    }\n}\n\nasync function handleJobFileUpload(event) {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file type\n    const validTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n    if (!validTypes.includes(file.type)) {\n        toast.error('Please upload a PDF or Word document');\n        return;\n    }\n\n    // Validate file size (max 10MB)\n    const maxSize = 10 * 1024 * 1024; // 10MB\n    if (file.size > maxSize) {\n        toast.error('File size must be less than 10MB');\n        return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('is_private', 1);\n\n    try {\n        isUploading.value = true;\n        uploadProgress.value = 0;\n\n        const response = await fetch('/api/method/upload_file', {\n            method: 'POST',\n            headers: {\n                'X-Frappe-CSRF-Token': window.frappe?.csrf_token || '',\n            },\n            body: formData\n        });\n\n        if (!response.ok) {\n            throw new Error('Upload failed');\n        }\n\n        const result = await response.json();\n        \n        if (result.message && result.message.file_url) {\n            uploadProgress.value = 100;\n            toast.success('Job description uploaded successfully');\n            console.log('File Uploaded:', result.message.file_url);\n            \n            // Parse the job description\n            await parseJobDescription(result.message.file_url, result.message.name);\n        } else {\n            throw new Error('Invalid response from server');\n        }\n    } catch (error) {\n        console.error('Upload failed:', error);\n        toast.error(`Upload failed: ${error.message || 'Unknown error'}`);\n    } finally {\n        isUploading.value = false;\n        uploadProgress.value = 0;\n        // Reset file input\n        if (jobFileInput.value) {\n            jobFileInput.value.value = '';\n        }\n    }\n}\n\nasync function parseJobDescription(fileUrl, fileName) {\n    try {\n        toast.info('Parsing job description...');\n        \n        // Initialize empty parsed data\n        parsedJobData.value = {};\n        \n        // Set loading state to true\n        isParsing.value = true;\n        \n        // Open the dialog to show real-time parsing\n        showJobDialog.value = true;\n        \n        // Call the job opening parse API with progress callback\n        const response = await JobDetailsAPI.parseJobOpening(\n            {\n                path: `./${import.meta.env.VITE_SITE_NAME}${fileUrl}`,\n                file_name: fileName,\n            },\n            (progressData) => {\n                // Handle progress updates from the EventStream\n                console.log('Job parsing step:', progressData);\n\n                if(progressData && progressData.event == 'error') {\n                    toast.error(`Job parsing error: ${progressData.data || 'Unknown error'}`);\n                    isParsing.value = false;\n                    showJobDialog.value = false;\n                    // parsedJobData.value = null;\n                    return\n                };\n                if(!progressData || !progressData.data) return;\n                if(!progressData || !progressData.data) return;\n                isParsing.value = false;\n                if(progressData.event == 'final'){\n                    toast.success('Job description parsed successfully!');\n                    // parsedJobData.value = progressData.data\n                    return;\n                }\n                // Update the parsed data in real-time\n                if(progressData.data.titles){\n                    progressData.data.titles.forEach(title => {\n                        if(!parsedJobData.value[title]){\n                            parsedJobData.value[title] = {\n                                description: '',\n                                bullet_points: []\n                            };\n                        }\n                    });\n                    return\n                }\n                parsedJobData.value[Object.keys(progressData.data)[0]] = progressData.data[Object.keys(progressData.data)[0]];\n                console.log('parsedJobData:', parsedJobData.value);\n            }\n        );\n    } catch (error) {\n        console.error('Job parsing failed:', error);\n        toast.error(`Job parsing failed: ${error.message || 'Unknown error'}`);\n        showJobDialog.value = false;\n        parsedJobData.value = null;\n    } finally {\n        // Set loading state to false when parsing ends\n        // isParsing.value = false;\n    }\n}\n\n// Handle job creation\nfunction handleJobCreate(parsedData) {\n    // Reload the jobs list after creating a new job\n    reload();\n}\n\n// Reload function (can be called externally)\nfunction reload() {\n    jobsResource.fetch();\n}\n\n// Expose reload function\ndefineExpose({ reload });\n</script>\n\n<style>\n.jc-page {\n    padding: 3rem;\n}\n\n.jc-toolbar {\n    display: flex;\n    gap: 12px;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-bottom: 16px;\n}\n\n.jc-search {\n    min-width: 480px;\n}\n\n.jc-filters {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n}\n.jc-filters label {\n    width: 120px !important;\n}\n\n.jc-list {\n    display: flex;\n    flex-direction: column;\n    gap: 14px;\n}\n\n.jc-card {\n    background: var(--card-bg, #fff);\n    border: 1px solid var(--border-color, #e6e6e6);\n    border-radius: 10px;\n    padding: 16px;\n}\n\n.jc-card-head {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 12px;\n}\n\n.jc-title {\n    font-size: 18px;\n    font-weight: 700;\n    margin: 0;\n    cursor: pointer;\n}\n\n.jc-title:hover {\n    color: #0066cc;\n}\n\n.jc-subtitle {\n    color: #6b7280;\n    margin-top: 4px;\n    font-size: 13px;\n}\n\n.jc-actions {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n}\n\n.jc-pipeline {\n    display: grid;\n    grid-template-columns: repeat(12, minmax(70px, 1fr));\n    gap: 10px;\n    margin-top: 14px;\n    padding-top: 14px;\n    border-top: 1px solid var(--border-color, #eee);\n    overflow-x: auto;\n}\n\n.jc-stage {\n    text-align: center;\n    border-right: 1px solid #f0f0f0;\n    padding-right: 10px;\n}\n\n.jc-stage:last-child {\n    border-right: none;\n}\n\n.jc-stage-count {\n    font-size: 18px;\n    font-weight: 700;\n}\n\n.jc-stage-label {\n    font-size: 12px;\n    color: #6b7280;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.jc-card-foot {\n    display: flex;\n    justify-content: space-between;\n    gap: 12px;\n    align-items: center;\n    margin-top: 12px;\n    color: #6b7280;\n    font-size: 13px;\n}\n\n.jc-warn {\n    color: #b42318;\n    display: inline-flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.jc-empty {\n    padding: 18px;\n    color: #6b7280;\n    text-align: center;\n}\n\n/* Form controls styling */\n.form-control {\n    padding: 8px 12px;\n    border: 1px solid #d1d5db;\n    border-radius: 6px;\n    font-size: 14px;\n    outline: none;\n    transition: border-color 0.2s;\n}\n\n.form-control:focus {\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n/* Button styling */\n.btn {\n    padding: 8px 16px;\n    border-radius: 6px;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    border: 1px solid transparent;\n    transition: all 0.2s;\n    white-space: nowrap;\n}\n\n.btn-default {\n    background: white;\n    border-color: #d1d5db;\n    color: #374151;\n}\n\n.btn-default:hover {\n    background: #f9fafb;\n    border-color: #9ca3af;\n}\n\n.btn-primary {\n    background: #3b82f6;\n    color: white;\n}\n\n.btn-primary:hover {\n    background: #2563eb;\n}\n\n.btn-sm {\n    padding: 6px 12px;\n    font-size: 13px;\n}\n</style>\n"],"names":["Banknote","createLucideIcon","Briefcase","FileText","MapPin","props","__props","emit","__emit","isOpen","ref","watch","newVal","close","createJob","formatSectionTitle","key","word","formatSalaryRange","lower","upper","currency","formatNumber","num","_createBlock","_unref","Dialog","$event","_createElementVNode","_hoisted_1","_openBlock","_createElementBlock","_hoisted_2","_cache","_hoisted_3","_Fragment","_renderList","section","sectionKey","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createVNode","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","point","idx","_hoisted_27","_hoisted_28","Button","router","useRouter","toast","useToast","JobDetailsAPI","createResource","filters","allJobs","filteredJobs","jobFileInput","isUploading","uploadProgress","isParsing","showJobDialog","parsedJobData","jobsResource","data","transformJobData","applyFilters","rawJobs","job","stepsMap","step","stages","a","b","totalCandidates","isPublished","isDraft","departments","computed","j","locations","groups","departmentOptions","dept","locationOptions","loc","groupOptions","grp","f","query","debounceTimeout","debouncedApplyFilters","formatCount","count","formatDate","dateStr","openJob","jobName","copyJobLink","jobLink","findCandidates","createNewJob","handleJobFileUpload","event","__async","file","maxSize","formData","response","_a","result","parseJobDescription","error","fileUrl","fileName","progressData","title","handleJobCreate","parsedData","reload","__expose","TextInput","Select","Checkbox","_createTextVNode","stage","JobDescriptionDialog"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}